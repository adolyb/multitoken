import{r as o,aN as r}from"./index-ecb67cdf.js";import{I as E,f as j}from"./axios-cec69436.js";const S=()=>{const[C,f]=o.useState([]),[n,d]=o.useState([]),[h,p]=o.useState(""),[w,x]=o.useState([]),F=async()=>(await j.get("https://few.tools/chaineye/getCexFee")).data;o.useEffect(()=>{let a=null,t=!1;const i=n.map(c=>(c.Chain!==a&&(a=c.Chain,t=!t),t?"white":"#FAFAFA"));x(i)},[n]),o.useEffect(()=>{(async()=>{const t=await F();f(t)})()});const u=a=>{const t=[],i=[];let c=/(.*)(E-)(.*)/;for(const e of C)e.Asset==a.toUpperCase()&&i.push(e);i.sort((e,s)=>{if(e.Chain!=s.Chain)return e.Chain.localeCompare(s.Chain);if(e.CEX!=s.CEX)return e.WithdrawFee-s.WithdrawFee});for(const e of i){const s={};s.Asset=a.toUpperCase(),s.Chain=e.Chain,s.CEX=e.CEX;let l=e.WithdrawFee.match(c);l!=null&&(e.WithdrawFee=l[1]/10**l[3]),s.WithdrawFee=e.WithdrawFee,s.WithdrawFee=String(s.WithdrawFee)+"("+e.WithdrawFeeInUSDT+"u)",s.MinWithdraw=e.MinWithdraw,s.Price=e.Price,t.push(s)}return t};o.useEffect(()=>{(()=>{if(h!=""){const t=u(h);d(t)}else u("ETH"),d([{CEX:"",Asset:"",Chain:"",WithdrawFee:"",WithdrawFeeInUSDT:"",Price:""}])})()},[h]);const W=a=>{p(a.target.value)};return r.jsxs("div",{className:"Main",children:[r.jsx("div",{className:"CoinInput",children:r.jsx(E,{addonBefore:"请输入你要查询的币",placeholder:"ETH/USDT/USDC/BNB...",value:h,onChange:W})}),r.jsxs("table",{children:[r.jsx("thead",{children:r.jsx("tr",{children:n&&n.length>0&&Object.keys(n[0]).map((a,t)=>r.jsx("th",{children:a},t))})}),r.jsx("tbody",{children:n&&n.map((a,t)=>r.jsx("tr",{style:{backgroundColor:w[t]},children:Object.values(a).map((i,c)=>r.jsx("td",{children:i},c))},t))})]})]})};export{S as default};
